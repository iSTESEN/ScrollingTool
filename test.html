<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QR Code Scanner</title>
  <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
</head>
<body>

  <h1>QR Code Scanner</h1>

  <!-- 用于显示摄像头画面的容器 -->
  <video id="preview"></video>

  <script>
    // 获取用于显示摄像头画面的video元素
    const videoElement = document.getElementById('preview');

    // 使用Instascan库创建扫描器
    const scanner = new Instascan.Scanner({ video: videoElement });

    // 在扫描到二维码时的回调
    scanner.addListener('scan', function (content) {
      alert('扫描结果： ' + content);
    });

    // 获取用户摄像头权限并启动扫描
    Instascan.Camera.getCameras().then(function (cameras) {
      if (cameras.length > 0) {
        scanner.start(cameras[0]); // 使用第一个摄像头
      } else {
        console.error('没有可用的摄像头');
      }
    }).catch(function (e) {
      console.error(e);
    });
  </script>

</body>
</html>



<script>
//   <!DOCTYPE html>
// <html lang="en">
// <head>
//   <meta charset="UTF-8">
//   <meta name="viewport" content="width=device-width, initial-scale=1.0">
//   <style>
//     body, html {
//       margin: 0;
//       padding: 0;
//       height: 100%;
//     }

//     #stampEffect {
//       display: none;
//       position: fixed;
//       top: 0;
//       left: 0;
//       width: 100%;
//       height: 100%;
//       background-color: rgba(0, 0, 0, 0.7); /* 半透明黑色背景 */
//       justify-content: center;
//       align-items: center;
//       color: white;
//       font-size: 2em;
//       animation: fadeIn 1s ease-in-out forwards; /* 使用fadeIn动画，并保持最终状态 */
//       /* 添加其他样式，比如盖章图片的样式 */
//     }

//     @keyframes fadeIn {
//       from {
//         opacity: 0;
//       }
//       to {
//         opacity: 1;
//       }
//     }

//     @keyframes rotateThumb {
//       to {
//         transform: rotate(45deg);
//       }
//     }
//   </style>
// </head>
// <body><!-- 你的网页内容 -->

// <!-- 盖章效果 -->
// <div id="stampEffect" class="text-success">
//   <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-emoji-heart-eyes" viewBox="0 0 16 16">
//   <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
//   <path d="M11.315 10.014a.5.5 0 0 1 .548.736A4.498 4.498 0 0 1 7.965 13a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .548-.736h.005l.017.005.067.015.252.055c.215.046.515.108.857.169.693.124 1.522.242 2.152.242.63 0 1.46-.118 2.152-.242a26.58 26.58 0 0 0 1.109-.224l.067-.015.017-.004.005-.002zM4.756 4.566c.763-1.424 4.02-.12.952 3.434-4.496-1.596-2.35-4.298-.952-3.434zm6.488 0c1.398-.864 3.544 1.838-.952 3.434-3.067-3.554.19-4.858.952-3.434z"/>
// </svg>
// </div>


// <script>
//   // 假设你有一个变量来表示用户是否全部答对
//   var allAnswersCorrect = true;

//   if (allAnswersCorrect) {
//     // 获取盖章元素
//     var stampEffect = document.getElementById('stampEffect');

//     // 显示盖章元素
//     stampEffect.style.display = 'flex'; // 使用flex布局居中

//     // 添加动画结束事件监听器
//     stampEffect.addEventListener('animationend', function() {
//       // 添加旋转动画
//       stampEffect.style.animation = 'rotateThumb 1s ease-in-out forwards';
//     });
//   }
//   function vibrateDevice() {
//   // 判断浏览器是否支持Vibration API
//   if ('vibrate' in navigator) {
//     // 触发设备震动，参数可以是一个数字或一个数组，表示震动的时长（毫秒）或一系列震动和暂停的时长
//     navigator.vibrate(200); // 200毫秒的震动
//   } else {
//     alert('抱歉，您的浏览器不支持设备震动。');
//   }
//   }
//   vibrateDevice()
// </script>

// </body>
// </html>

</script>
